(this["webpackJsonppern-client"]=this["webpackJsonppern-client"]||[]).push([[0],{10:function(e,t,n){e.exports=n(18)},15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),o=n.n(c),l=(n(15),n(4)),i=n(5),s=n(7),d=n(6),u=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onDescriptionChange=function(e){a.setState({description:e.target.value})},a.onCreateTodo=function(){fetch("https://guarded-earth-77991.herokuapp.com/createTodo",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:a.state.description})})},a.state={description:""},a}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center mt-5"},"Pern Todo List"),r.a.createElement("form",{className:"d-flex mt-5 mx-5"},r.a.createElement("input",{type:"text",className:"form-control",name:"description",id:"description",onChange:this.onDescriptionChange}),r.a.createElement("input",{className:"btn btn-success",onClick:this.onCreateTodo,type:"submit",value:"Add"})))}}]),n}(r.a.Component),m=n(1),p=n.n(m),f=n(2),h=n(3),b=function(e){var t=e.allTodo,n=Object(a.useState)(t.description),c=Object(h.a)(n,2),o=c[0],l=c[1],i=Object(a.useState)([]),s=Object(h.a)(i,2),d=(s[0],s[1],function(){var e=Object(f.a)(p.a.mark((function e(n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,a={description:o},e.next=5,fetch("https://guarded-earth-77991.herokuapp.com/updateSelectTodo/".concat(t.todo_id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 5:r=e.sent,window.location="/pern-client/",console.log(r),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}());return r.a.createElement(a.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-warning","data-toggle":"modal","data-target":"#id".concat(t.todo_id)},"Edit"),r.a.createElement("div",{className:"modal",id:"id".concat(t.todo_id),onClick:function(){return l(t.description)}},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Update Todo"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:function(){return l(t.description)}},"\xd7")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("input",{type:"text",className:"form-control",id:"upddescription",value:o,onChange:function(e){return l(e.target.value)}})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-warning","data-dismiss":"modal",onClick:function(e){return d(e)}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:function(){return l(t.description)}},"Cancel"))))))},E=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],o=function(){var e=Object(f.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://guarded-earth-77991.herokuapp.com/deleteSelectTodo/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:a=e.sent,c(n.filter((function(e){return e.todo_id!==t}))),console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://guarded-earth-77991.herokuapp.com/getAllTodo");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[]),r.a.createElement(a.Fragment,null," ",r.a.createElement("div",{className:"mx-5"},r.a.createElement("table",{className:"table mt-5 text-center"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Edit"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.todo_id},r.a.createElement("td",null,e.description),r.a.createElement("td",null,r.a.createElement(b,{allTodo:e})),r.a.createElement("td",null,r.a.createElement("input",{className:"btn btn-danger",onClick:function(){return o(e.todo_id)},type:"submit",value:"Delete"})))}))))))},v=(n(17),{route:"/",todo:{todo_id:"",description:""}}),g=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state=v,e}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u,null),r.a.createElement(E,{todo_id:this.state.todo.todo_id,description:this.state.todo.description}))}}]),n}(a.Component);o.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.52e37f2e.chunk.js.map